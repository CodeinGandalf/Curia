<launch>
  <!-- Starte den LIDAR-Node -->
  <include file="$(find rplidar_ros)/launch/rplidar_a1.launch" />

   <!-- Laser Filter Node -->
  <node pkg="laser_filters" type="scan_to_scan_filter_chain" name="scan_filter">
    <rosparam command="load" file="$(find dose_sammler)/config/scan_filter.yaml"/>
    <remap from="scan" to="/scan"/>
    <remap from="scan_filtered" to="/scan_filtered"/>

  </node>
  
  <node pkg="tf2_ros" type="static_transform_publisher" name="laser_to_base_link"
        args="0.164 0.166 0.012 0 0 0 base_link laser" />

    <!-- Starte GMapping fÃ¼r SLAM -->
  <node name="slam_gmapping" pkg="gmapping" type="slam_gmapping" output="screen">
    <param name="base_frame" value="base_link"/>
    <param name="odom_frame" value="odom"/>
    <param name="map_update_interval" value="2.0"/>
    <param name="maxUrange" value="8.0"/>
    <param name="minimumScore" value="100"/>
    <remap from="scan" to="/scan_filtered"/>
  </node>

  <!-- Starte dein Hauptprogramm (main.py als ROS-Node, wenn du das willst) -->
  <node pkg="dose_sammler" type="main.py" name="dose_sammler_node" output="screen" />

  <!-- Tastatur-Node -->
  <node pkg="dose_sammler" type="keyboard_control.py" name="keyboard_control_node" output="screen" />

  <node pkg="dose_sammler" type="encoder_odometry.py" name="encoder_odom_node" output="screen" />

</launch>